# Shipsy Econnect Shopify App

تطبيق Shopify متقدم لمزامنة طلبات الشحن من متاجر Shopify إلى منصة Shipsy.

## نظرة عامة

هذا التطبيق يوفر التكامل السلس بين Shopify ومنصة Shipsy للشحن، مما يتيح:

✅ **مزامنة الطلبات التلقائية** - تحويل طلبات Shopify إلى شحنات Shipsy تلقائياً
✅ **تحديث الحالة المباشر** - متابعة تحديثات حالة الشحن من Shipsy إلى Shopify
✅ **توليد بطاقات الشحن** - طباعة ملصقات الشحن والباركود
✅ **إدارة العناوين** - التحقق من صحة العناوين واختيار نقاط الاستلام
✅ **لوحة تحكم سهلة** - واجهة مستخدم بديهية لإدارة الإعدادات والعمليات

## المميزات الرئيسية

### 1. مزامنة الطلبات

- التعرف على الطلبات الجديدة والمحدثة من Shopify
- تحويل بيانات Shopify إلى صيغة متوافقة مع Shipsy API
- إنشاء شحنات تلقائية في نظام Shipsy

### 2. تحديث حالة الشحن

- مزامنة تلقائية لحالات الشحن من Shipsy
- تحديث حالة الطلب في Shopify تلقائياً
- إرسال إشعارات للعملاء عند تغيير حالة الشحن

### 3. إدارة البيانات

- تخزين آمن لمفاتيح API والإعدادات
- معالجة معلومات الشحن الكاملة
- دعم اللغات المتعددة

### 4. التقارير والسجلات

- تسجيل جميع عمليات المزامنة
- عرض السجلات والأخطاء
- تصدير البيانات للتحليل

## البنية الأساسية

```
shipsy-econnect-shopify/
├── package.json                    # تبعيات المشروع
├── shopify.app.toml               # إعدادات تطبيق Shopify
├── .env.example                   # متغيرات البيئة النموذجية
├── server.js                      # نقطة البداية الرئيسية
├── config/
│   ├── settings.js               # إعدادات التطبيق
│   └── database.js               # إعدادات قاعدة البيانات
├── routes/
│   ├── api.js                    # مسارات API الرئيسية
│   ├── webhooks.js               # معالجات webhooks من Shopify
│   └── admin.js                  # مسارات لوحة التحكم
├── services/
│   ├── shipsy-service.js         # خدمة التكامل مع Shipsy
│   ├── shopify-service.js        # خدمة التكامل مع Shopify
│   ├── sync-service.js           # خدمة المزامنة
│   └── webhook-service.js        # معالج الويب هوك
├── controllers/
│   ├── order-controller.js       # التحكم بالطلبات
│   ├── sync-controller.js        # التحكم بالمزامنة
│   └── settings-controller.js    # التحكم بالإعدادات
├── models/
│   ├── order.js                  # نموذج الطلب
│   ├── shipment.js               # نموذج الشحنة
│   └── sync-log.js               # نموذج السجل
├── middleware/
│   ├── auth.js                   # التحقق من المصادقة
│   ├── validate.js               # التحقق من الصحة
│   └── error.js                  # معالجة الأخطاء
├── utils/
│   ├── logger.js                 # نظام التسجيل
│   ├── helpers.js                # دوال مساعدة
│   └── constants.js              # الثوابت
├── crons/
│   ├── sync-cron.js              # مهمة المزامنة المجدولة
│   └── status-update-cron.js     # مهمة تحديث الحالة
└── views/
    ├── dashboard.html             # لوحة التحكم
    ├── settings.html              # صفحة الإعدادات
    └── sync-history.html          # سجل المزامنة
```

## البدء السريع

### المتطلبات الأساسية

- Node.js 18+
- npm أو yarn
- حساب Shopify Developer
- مفاتيح API من Shipsy

### خطوات التثبيت

1. استنساخ المشروع

```bash
git clone <repository_url>
cd shipsy-econnect-shopify
```

2. تثبيت المتعلقات

```bash
npm install
```

3. إعداد متغيرات البيئة

```bash
cp .env.example .env
# قم بتحرير .env وأضف مفاتيح API الخاصة بك
```

4. تشغيل التطبيق في وضع التطوير

```bash
npm run dev
```

## الإعدادات الضرورية

عند تثبيت التطبيق لأول مرة، ستحتاج إلى:

1. **إدخال بيانات Shipsy**

   - مفتاح API
   - اسم المنظمة
   - رابط Base URL

2. **اختيار الإعدادات**

   - تفعيل المزامنة التلقائية
   - تحديد جدول المزامنة
   - اختيار حالات الطلب للمزامنة

3. **تكوين الإشعارات**
   - رسائل البريد الإلكتروني
   - إشعارات SMS (اختياري)
   - مشاركة البيانات مع Shipsy

## التطور والتوسع

### إضافة ميزة جديدة

1. أنشئ ملف في مجلد `services/` أو `controllers/`
2. استخدم الخدمات الموجودة أو أنشئ خدمة جديدة
3. أضف المسار في `routes/`
4. اختبر باستخدام أدوات Shopify

### الاختبار

```bash
npm test
```

## الترخيص

هذا المشروع مرخص تحت GPL-2.0+

## الدعم والتطوير

تم تطوير هذا التطبيق بواسطة فريق Shipsy plugins.
للمزيد من المعلومات: [shipsy.io](https://shipsy.io)

## ملاحظات الإصدار

### الإصدار 1.0.0

- الإصدار الأول من تطبيق Shopify
- مزامنة الطلبات الأساسية
- تحديث حالات الشحن
- لوحة تحكم أساسية
