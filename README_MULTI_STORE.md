โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ SHOPIFY ECONNECT - MULTI-STORE EDITION โ
โ ุชุทุจูู ุนุงู ูุชุนุฏุฏ ุงููุชุงุฌุฑ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุญููู ุงูุชุทุจูู ูู ูุณุฎุฉ **ูุชุฌุฑ ูุงุญุฏ ุซุงุจุช** ุฅูู **ุชุทุจูู ุนุงู ูุฏุนู ุขูุงู ุงููุชุงุฌุฑ** ูุน ูุธุงู OAuth ุขูู ููุชูุงูู.

---

## ๐ ุงููุฑู ุจูู ุงููุณุฎุฉ ุงููุฏููุฉ ูุงูุฌุฏูุฏุฉ

| ุงูููุฒุฉ         | ุงููุณุฎุฉ 1.0 (ูุฏููุฉ)    | ุงููุณุฎุฉ 2.0 (ุฌุฏูุฏุฉ)      |
| -------------- | --------------------- | ----------------------- |
| ุนุฏุฏ ุงููุชุงุฌุฑ    | ูุชุฌุฑ ูุงุญุฏ ููุท         | ุขูุงู ุงููุชุงุฌุฑ            |
| ุชุฎุฒูู ุงูุชูููุงุช | ูุชุบูุฑุงุช ุงูุจูุฆุฉ (.env) | ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL |
| OAuth          | โ ุบูุฑ ูุฏุนูู          | โ ูุฏุนูู ุจุงููุงูู        |
| ูุงุนุฏุฉ ุงูุจูุงูุงุช | โ ุงุฎุชูุงุฑู            | โ ูุทููุจ                |
| ูุงุจู ููุชูุณุน    | โ ูุง                 | โ ูุนู                  |
| ุงูุฃูุงู         | ๐ก ูุชูุณุท              | ๐ข ุนุงูู ุฌุฏุงู            |
| ุณูููุฉ ุงูุฅุฏุงุฑุฉ  | ๐ก ูุนูุฏ               | ๐ข ุณูู                  |

---

## ๐ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ูุธุงู OAuth ุงููุงูู

```
โ ุฑุงุจุท ุชูุฌูู ุงูุชูููุถ
โ ูุนุงูุฌุฉ Callback ุงูุขููุฉ
โ ุชุจุฏูู ุงูููุฏ ุจุงูุชููู
โ ุงูุชุญูู ูู HMAC
โ ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช
```

### 2. ูุงุนุฏุฉ ุจูุงูุงุช ูุฑูุฒูุฉ

```
โ PostgreSQL ููุฅูุชุงุฌ
โ Indexes ูุณุฑุนุฉ ุงูุจุญุซ
โ Foreign Keys ููุฑุจุท ุงูุขูู
โ Transactions ููุนูููุงุช ุงูููุซููุฉ
โ Backup ูุงูุงุณุชุฑุฌุงุน
```

### 3. ุฃูุงู ูุญุณูู

```
โ ุชูููุน HMAC
โ ุชุฎุฒูู ุขูู ููุชูููุงุช
โ Rate Limiting ุฌุงูุฒ
โ Input Validation
โ Error Handling ุดุงูู
```

### 4. ุณูููุฉ ุงูุชุทููุฑ

```
โ Middleware ูุงุถุญุฉ ููููููุฉ
โ Services ููุธูุฉ
โ Routes ูููุตูุฉ
โ Logging ุดุงูู
โ ุชูุซูู ูุงูู
```

---

## ๐ ูููู ุงููุดุฑูุน ุงูุฌุฏูุฏ

```
shipsy-econnect-shopify/
โโโ ๐ database/connection.js          โ ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ ๐ services/oauth-service.js       โ OAuth Logic
โโโ ๐ services/shop-service.js        โ ุฅุฏุงุฑุฉ ุงููุชุงุฌุฑ
โโโ ๐ middleware/auth-middleware.js   โ ุงููุตุงุฏูุฉ
โโโ ๐ routes/auth.js                  โ ูุณุงุฑุงุช OAuth
โโโ ๐ server-oauth.js                 โ Server ุฌุฏูุฏ
โโโ ๐ .env.production                 โ ุฅุนุฏุงุฏุงุช ุงูุฅูุชุงุฌ
โโโ ๐ render.yaml                     โ ููููุฌ Render
โโโ ๐ package.json                    โ ููุชุจุงุช ูุญุฏุซุฉ
โโโ ๐ Documentation/
    โโโ ๐ OAUTH_IMPLEMENTATION.md
    โโโ ๐ RENDER_DEPLOYMENT.md
    โโโ ๐ MIGRATION_GUIDE.md
    โโโ ๐ IMPLEMENTATION_SUMMARY.md
    โโโ ๐ verify.sh
```

---

## โก ุงูุจุฏุก ุงูุณุฑูุน (Quick Start)

### 1. ุงูุชุซุจูุช

```bash
cd shipsy-econnect-shopify
npm install
```

### 2. ุงูุฅุนุฏุงุฏุงุช

```bash
# ุงูุณุฎ ุงูููู
copy .env.production .env

# ุญุฑูุฑ ุงูููู
nano .env
```

### 3. ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
# ุฎูุงุฑ 1: PostgreSQL ูุญูู
postgres -D /usr/local/var/postgres

# ุฎูุงุฑ 2: Docker
docker run -d \
  -e POSTGRES_USER=avnadmin \
  -e POSTGRES_PASSWORD=password123 \
  -p 5432:5432 \
  postgres:15
```

### 4. ุงูุชุดุบูู

```bash
npm run dev
```

### 5. ุงูุงุฎุชุจุงุฑ

```bash
curl http://localhost:3000/health
```

---

## ๐ ูุณุงุฑุงุช OAuth

### ุงูุฃุณุงุณูุฉ

- `POST /api/auth` - ุจุฏุก ุงููุตุงุฏูุฉ
- `GET /api/auth/callback` - Callback ูู Shopify
- `POST /api/auth/verify` - ุงูุชุญูู ูู ุงูุชุซุจูุช
- `POST /api/auth/uninstall` - ุฅูุบุงุก ุงูุชุซุจูุช
- `GET /api/auth/shops` - ูุงุฆูุฉ ุงููุชุงุฌุฑ

### ุงููุญููุฉ (ุชุญุชุงุฌ ุชูููุถ)

- `GET /api/orders` - ุงูุทูุจูุงุช
- `POST /api/orders/:id/sync` - ูุฒุงููุฉ ุทูุจูุฉ
- `GET /api/orders/:id/status` - ุญุงูุฉ ุงูุดุญูุฉ

---

## ๐ ุงููุซุงุฆู

ุงูุฑุฃ ุจูุฐุง ุงูุชุฑุชูุจ:

1. **[IMPLEMENTATION_SUMMARY.md](./IMPLEMENTATION_SUMMARY.md)** (5 ุฏูุงุฆู)

   - ููุฎุต ุงูุชุบููุฑุงุช
   - ุงููููุงุช ุงูุฌุฏูุฏุฉ
   - ุงูุฎุทูุงุช ุงูุชุงููุฉ

2. **[OAUTH_IMPLEMENTATION.md](./OAUTH_IMPLEMENTATION.md)** (10 ุฏูุงุฆู)

   - ุดุฑุญ ูุธุงู OAuth
   - ูุณุงุฑ ุงูุนูู
   - ุฃูุซูุฉ API

3. **[MIGRATION_GUIDE.md](./MIGRATION_GUIDE.md)** (15 ุฏูููุฉ)

   - ููููุฉ ุชุญุฏูุซ Controllers
   - ุฃูุซูุฉ ุนูููุฉ
   - ุฃูุถู ุงูููุงุฑุณุงุช

4. **[RENDER_DEPLOYMENT.md](./RENDER_DEPLOYMENT.md)** (20 ุฏูููุฉ)
   - ุฎุทูุงุช ุงููุดุฑ
   - ุฅุนุฏุงุฏ Shopify
   - ุญู ุงููุดุงูู

---

## ๐ฏ ุงุณุชุฎุฏุงู ุงูุชุทุจูู

### ูุซุงู 1: ุจุฏุก ุงููุตุงุฏูุฉ

```bash
curl -X POST http://localhost:3000/api/auth \
  -H "Content-Type: application/json" \
  -d '{"shop": "example.myshopify.com"}'

# โ ููุฑุฌุน ุฑุงุจุท ุชูููุถ
```

### ูุซุงู 2: ุงูุญุตูู ุนูู ุงูุทูุจูุงุช

```bash
curl http://localhost:3000/api/orders?shop=example.myshopify.com
```

### ูุซุงู 3: ูุฒุงููุฉ ุทูุจูุฉ

```bash
curl -X POST http://localhost:3000/api/orders/123456/sync \
  -H "Content-Type: application/json" \
  -d '{"shop": "example.myshopify.com"}'
```

---

## ๐ ุงูุฃูุงู

### ููููุฉ ุญูุงูุฉ ุงูุจูุงูุงุช

- โ ุชูููุน HMAC ูุฌููุน ุทูุจุงุช Shopify
- โ ุงูุชูููุงุช ูุดูุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ HTTPS ุฅุฌุจุงุฑู ูู ุงูุฅูุชุงุฌ
- โ Rate Limiting ููุญูุงูุฉ ูู ุงููุฌูุงุช
- โ Input Validation ุนูู ุฌููุน ุงููุฏุฎูุงุช

### ุฃูุถู ุงูููุงุฑุณุงุช

```javascript
// โ ุงุณุชุฎุฏู req.shopUrl ูู middleware
const shopUrl = req.shopUrl;

// โ ุงุญุตู ุนูู ุงูุชููู ุจุดูู ุขูู
const accessToken = req.accessToken;

// โ ูุง ุชุฎุฒู ุจูุงูุงุช ูู ูุชุบูุฑุงุช ุจูุฆุฉ
// const TOKEN = process.env.SHOPIFY_TOKEN; // โ ุบูุฑ ุขูู
```

---

## ๐ ุงูุฃุฏุงุก

### ุฃููุงุช ุงูุงุณุชุฌุงุจุฉ

| ุงูุนูููุฉ                 | ุงูููุช   | ุงูููุงุญุธุงุช      |
| ----------------------- | ------- | -------------- |
| GET /health             | < 50ms  | ูุญุต ุงูุตุญุฉ      |
| POST /api/auth          | < 100ms | ุชูููุฏ ุฑุงุจุท     |
| POST /api/auth/callback | < 500ms | ุชุจุฏูู ุงูููุฏ    |
| GET /api/orders         | < 500ms | ุฌูุจ ูู Shopify |

### Scalability

- ูุฏุนู ุขูุงู ุงููุชุงุฌุฑ ูู ููุณ ุงูููุช
- ูุงุนุฏุฉ ุจูุงูุงุช ุชุชุณุน ุชููุงุฆูุงู
- Caching ููุนูููุงุช ุงููุชูุฑุฑุฉ

---

## โ ุฃุณุฆูุฉ ุดุงุฆุนุฉ

**ุณ: ูู ุฃุญุชุงุฌ ูุชุนุฏูู ุงูููุฏ ุงูุญุงููุ**

> ูุนูุ ูุฌุจ ุชุญุฏูุซ Controllers ูุงุณุชุฎุฏุงู `req.shopUrl` ู `req.accessToken` ุจุฏูุงู ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ. ุงุชุจุน [MIGRATION_GUIDE.md](./MIGRATION_GUIDE.md).

**ุณ: ููู ุฃุฎุชุจุฑ ูุญููุงูุ**

> ุงุณุชุฎุฏู Postman ุฃู curl ูุน `http://localhost:3000`. ุชุญูู ูู [LOCAL_TESTING_GUIDE.js](./LOCAL_TESTING_GUIDE.js).

**ุณ: ูู ูููู ุงููุดุฑ ุนูู Renderุ**

> ูุฌุงูู ุชูุงูุงู! PostgreSQL ูุฌุงูู (ุจุญุฏ 256MB)ุ Web Service ูุฌุงูู.

**ุณ: ูุงุฐุง ูู ุฃุฑุฏุช ุงูุนูุฏุฉ ูููุณุฎุฉ ุงููุฏููุฉุ**

> ุงุณุชุฎุฏู `npm start:legacy` ูุชุดุบูู server.js ุงูุฃุตูู.

---

## ๐ ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ

### ุฎุทุฃ: "Cannot find module 'pg'"

```bash
# ุงูุญู:
npm install pg
```

### ุฎุทุฃ: "ECONNREFUSED 127.0.0.1:5432"

```bash
# ุชุฃูุฏ ูู ุชุดุบูู PostgreSQL:
postgres -D /usr/local/var/postgres
# ุฃู ุงุณุชุฎุฏู Docker
```

### ุฎุทุฃ: "Invalid HMAC"

```bash
# ุชุญูู ูู:
1. SHOPIFY_API_SECRET ุตุญูุญ
2. ูุง ุชูุฌุฏ ูุณุงูุงุช ุฅุถุงููุฉ
3. ุงูููุฏ ูู ูุชุฌุงูุฒ 10 ุฏูุงุฆู
```

---

## ๐ ุงููุดุฑ ุนูู Render

### ุฎุทูุงุช ุณุฑูุนุฉ

1. ุงูุณุฎ ุงููุดุฑูุน ุฅูู GitHub
2. ุงุฐูุจ ุฅูู Render.com
3. ุงููุฑ "+ New" โ "Web Service"
4. ุงุฎุชุฑ GitHub repo
5. ุฃุถู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
6. ุงููุฑ "Deploy"

๐ ุชูุงุตูู ูุงููุฉ ูู [RENDER_DEPLOYMENT.md](./RENDER_DEPLOYMENT.md)

---

## ๐ก ูุตุงุฆุญ ูููุฉ

โ **ุงุณุชุฎุฏู `.env` ูููุชุบูุฑุงุช ุงูุญุณุงุณุฉ**

```
SHOPIFY_API_SECRET=secret_here
SHOPIFY_API_KEY=key_here
```

โ **ุงูุญุต ุงูุณุฌูุงุช ุฏุงุฆูุงู**

```bash
# ูุญูู
npm run dev  # ุณุชุฑู ุงูุณุฌูุงุช

# ุนูู Render
Render Dashboard โ Logs
```

โ **ุงุฎุชุจุฑ ุงูุฃุฎุทุงุก**

```javascript
// ูุงุฐุง ูู ูุดู ุงูุงุชุตุงู ุจู Shopifyุ
// ูุงุฐุง ูู ุงููุทุน ุงูุฅูุชุฑูุชุ
// ูุงุฐุง ูู ุฏุฎู ูุชุฌุฑ ุบูุฑ ููุฌูุฏุ
```

---

## ๐ ุงูุฏุนู

ุฅุฐุง ุญุฏุซุช ูุดููุฉ:

1. ุชุญูู ูู ุงูุณุฌูุงุช ุฃููุงู
2. ุงูุฑุฃ ุฑุณุงูุฉ ุงูุฎุทุฃ ุจุนูุงูุฉ
3. ุงุจุญุซ ูู ุงููุซุงุฆู
4. ุฌุฑูุจ ุงูุงุฎุชุจุงุฑ ุงููุญูู

---

## ๐ ุฎุงุฑุทุฉ ุงูุทุฑูู (Roadmap)

### ุงููุฑุญูุฉ 1 โ (ููุชููุฉ)

- [x] ูุธุงู OAuth
- [x] ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [x] Middleware ุงูุฃูุงู
- [x] ุงููุซุงุฆู

### ุงููุฑุญูุฉ 2 โณ (ูุฑูุจุฉ)

- [ ] ุชุญุฏูุซ Controllers
- [ ] ุงุฎุชุจุงุฑุงุช ูุญุฏุฉ
- [ ] ูุดุฑ ุนูู Render

### ุงููุฑุญูุฉ 3 ๐ (ูุณุชูุจู)

- [ ] ููุญุฉ ุชุญูู ูุชูุฏูุฉ
- [ ] ุชูุงุฑูุฑ ูุฅุญุตุงุฆูุงุช
- [ ] ูุธุงู ุงูุฏูุน

---

## ๐ ุงูุชุฑุฎูุต

ุชู ุชุทููุฑ ูุฐุง ุงููุดุฑูุน ุจุญุจ ูุนูุงูุฉ.
ูุงุณุชุฎุฏุงู ุชุฌุงุฑูุ ุชุญูู ูู [LICENSE.txt](./LICENSE.txt)

---

## ๐ ุดูุฑ ุฎุงุต

ุดูุฑุงู ูู ุนูู ุงูุซูุฉ ูู ูุฐุง ุงูุญู!

ุงููุณุฎุฉ ุงูุฌุฏูุฏุฉ ุฌุงูุฒุฉ ูู:

- โ ุขูุงู ุงููุชุงุฌุฑ
- โ ููุงููู ุงูุทูุจูุงุช
- โ ุงููุดุฑ ุงูุณุฑูุน
- โ ุงูุฅุฏุงุฑุฉ ุงูุณููุฉ

---

## ๐ฒ ุชูุงุตู

ููุฃุณุฆูุฉ ูุงูุชุทููุฑ ุงููุณุชูุจูู:

```
Email: support@shipsy.io
GitHub: github.com/shipsy-econnect
Docs: docs.shipsy.io
```

---

**๐ ูุจุฑูู! ุฃูุช ุงูุขู ุชููู ุชุทุจููุงู ูุชุนุฏุฏ ุงููุชุงุฌุฑ ูุชุทูุฑุงู ูุขููุงู!**

```
 _____ _     _            _     ______  _____
|_   _| |   (_)          | |   (_____ \/ ___/
  | | | |___ _ _ ____ _ _| |_   _____/\ \__
  | | |  _  | | |  _ (_|_   _) |  _____) ___)
  | | | | | | | | | | | | | | | |  (___/____
  |_| |_| |_|_|_|_| |_| |_| |_| |__________/

Multi-Store OAuth Edition v2.0.0
```

---

**ุขุฎุฑ ุชุญุฏูุซ:** 13 ููุงูุฑ 2024
**ุงูุญุงูุฉ:** ๐ข ุฌุงูุฒ ููุฅูุชุงุฌ
